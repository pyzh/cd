<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:erl="http://erlang.org" xmlns:fn="http://www.w3.org/2005/02/xpath-functions">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="../../../../doc/otp_doc.css" type="text/css">
<title>Erlang -- Logging</title>
</head>
<body>
<div id="container">
<script id="js" type="text/javascript" language="JavaScript" src="../../../../doc/js/flipmenu/flipmenu.js"></script><script id="js2" type="text/javascript" src="../../../../doc/js/erlresolvelinks.js"></script><script language="JavaScript" type="text/javascript">
            <!--
              function getWinHeight() {
                var myHeight = 0;
                if( typeof( window.innerHeight ) == 'number' ) {
                  //Non-IE
                  myHeight = window.innerHeight;
                } else if( document.documentElement && ( document.documentElement.clientWidth ||
                                                         document.documentElement.clientHeight ) ) {
                  //IE 6+ in 'standards compliant mode'
                  myHeight = document.documentElement.clientHeight;
                } else if( document.body && ( document.body.clientWidth || document.body.clientHeight ) ) {
                  //IE 4 compatible
                  myHeight = document.body.clientHeight;
                }
                return myHeight;
              }

              function setscrollpos() {
                var objf=document.getElementById('loadscrollpos');
                 document.getElementById("leftnav").scrollTop = objf.offsetTop - getWinHeight()/2;
              }

              function addEvent(obj, evType, fn){
                if (obj.addEventListener){
                obj.addEventListener(evType, fn, true);
                return true;
              } else if (obj.attachEvent){
                var r = obj.attachEvent("on"+evType, fn);
                return r;
              } else {
                return false;
              }
             }

             addEvent(window, 'load', setscrollpos);

             //--></script><div id="leftnav"><div class="innertube">
<div class="erlang-logo-wrapper"><a href="../../../../doc/index.html"><img alt="Erlang Logo" src="../../../../doc/erlang-logo.png" class="erlang-logo"></a></div>
<p class="section-title">Kernel</p>
<p class="section-subtitle">User's Guide</p>
<p class="section-version">Version 5.4.3</p>
<ul class="panel-sections">
<li><a href="users_guide.html">User's Guide</a></li>
<li><a href="index.html">Reference Manual</a></li>
<li><a href="release_notes.html">Release Notes</a></li>
<li><a href="../pdf/kernel-5.4.3.pdf">PDF</a></li>
<li><a href="../../../../doc/index.html">Top</a></li>
</ul>
<ul class="expand-collapse-items">
<li><a href="javascript:openAllFlips()">Expand All</a></li>
<li><a href="javascript:closeAllFlips()">Contract All</a></li>
</ul>
<h3>Chapters</h3>
<ul class="flipMenu" imagepath="../../../../doc/js/flipmenu">
<li id="no" title="Introduction" expanded="false">Introduction<ul>
<li><a href="introduction.html">
              Top of chapter
            </a></li>
<li title="Scope"><a href="introduction.html#scope">Scope</a></li>
<li title="Prerequisites"><a href="introduction.html#prerequisites">Prerequisites</a></li>
</ul>
</li>
<li id="loadscrollpos" title="Logging" expanded="true">Logging<ul>
<li><a href="logger_chapter.html">
              Top of chapter
            </a></li>
<li title="Overview"><a href="logger_chapter.html#overview">Overview</a></li>
<li title="Logger API"><a href="logger_chapter.html#logger-api">Logger API</a></li>
<li title="Filters"><a href="logger_chapter.html#filters">Filters</a></li>
<li title="Handlers"><a href="logger_chapter.html#handlers">Handlers</a></li>
<li title="Formatters"><a href="logger_chapter.html#formatters">Formatters</a></li>
<li title="Configuration"><a href="logger_chapter.html#configuration">Configuration</a></li>
<li title="Backwards Compatibility with error_logger"><a href="logger_chapter.html#backwards-compatibility-with-error_logger">Backwards Compatibility with error_logger</a></li>
<li title="Error Handling"><a href="logger_chapter.html#error-handling">Error Handling</a></li>
<li title="Example: Add a handler to log debug events to file"><a href="logger_chapter.html#example--add-a-handler-to-log-debug-events-to-file">Example: Add a handler to log debug events to file</a></li>
<li title="Example: Implement a handler"><a href="logger_chapter.html#example--implement-a-handler">Example: Implement a handler</a></li>
<li title="Protecting the Handler from Overload"><a href="logger_chapter.html#protecting-the-handler-from-overload">Protecting the Handler from Overload</a></li>
<li title="See Also"><a href="logger_chapter.html#see-also">See Also</a></li>
</ul>
</li>
</ul>
</div></div>
<div id="content">
<div class="innertube">
<h1>2 Logging</h1>
  

  <p>Erlang/OTP 21.0 provides a standard API for logging
    through <span class="code">Logger</span>, which is part of the Kernel
    application. Logger consists of the API for issuing log events,
    and a customizable backend where log handlers, filters and
    formatters can be plugged in.</p>
  <p>By default, the Kernel application installs one log handler at
    system start. This handler is named <span class="code">default</span>. It receives
    and processes standard log events produced by the Erlang runtime
    system, standard behaviours and different Erlang/OTP
    applications. The log events are by default written to the
    terminal.</p>
  <p>You can also configure the system so that the default handler
    prints log events to a single file, or to a set of wrap logs
    via <span class="bold_code bc-19"><a href="disk_log.html"><span class="code">disk_log</span></a></span>.</p>
  <p>By configuration, you can also modify or disable the default
    handler, replace it by a custom handler, and install additional
    handlers.</p>

  <h3><span onMouseOver="document.getElementById('ghlink-overview-idp70789090504048').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-overview-idp70789090504048').style.visibility = 'hidden';"><span id="ghlink-overview-idp70789090504048" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/logger_chapter.xml#L51" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="overview" href="#overview">2.1 
          Overview</a></span></h3>
    
    <p>A <strong>log event</strong> consists of a <strong>log level</strong>, the
      <strong>message</strong> to be logged, and <strong>metadata</strong>.</p>
    <p>The Logger backend forwards log events from the API, first
      through a set of <strong>primary filters</strong>, then through a set of
      secondary filters attached to each log handler. The secondary
      filters are in the following named <strong>handler filters</strong>.</p>
    <p>Each filter set consists of a <strong>log level check</strong>,
      followed by zero or more <strong>filter functions</strong>.</p>
    <p>The following figure shows a conceptual overview of Logger. The
      figure shows two log handlers, but any number of handlers can be
      installed.</p>

    <div class="doc-image-wrapper">
<img alt="IMAGE MISSING" src="logger_arch.png" class="doc-image">
      <p class="doc-image-caption">Figure
        2.1:
         
        Conceptual Overview</p>
    </div>

    <p>Log levels are expressed as atoms. Internally in Logger, the
      atoms are mapped to integer values, and a log event passes the
      log level check if the integer value of its log level is less
      than or equal to the currently configured log level. That is,
      the check passes if the event is equally or more severe than the
      configured level. See section <span class="bold_code bc-17"><a href="#log_level">Log Level</a></span> for a listing and description of all log
      levels.</p>
    <p>The primary log level can be overridden by a log level
      configured per module. This is to, for instance, allow more
      verbose logging from a specific part of the system.</p>
    <p>Filter functions can be used for more sophisticated filtering
      than the log level check provides. A filter function can stop or
      pass a log event, based on any of the event's contents. It can
      also modify all parts of the log event. See see
      section <span class="bold_code bc-17"><a href="#filters">Filters</a></span> for more
      details.</p>
    <p>If a log event passes through all primary filters and all
      handler filters for a specific handler, Logger forwards the event
      to the handler callback. The handler formats and prints the
      event to its destination. See
      section <span class="bold_code bc-17"><a href="#handlers">Handlers</a></span> for
      more details.</p>
    <p>Everything up to and including the call to the handler
      callbacks is executed on the client process, that is, the
      process where the log event was issued. It is up to the handler
      implementation if other processes are involved or not.</p>
    <p>The handlers are called in sequence, and the order is not
      defined.</p>
  
  <h3><span onMouseOver="document.getElementById('ghlink-logger-api-idp70789090509120').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-logger-api-idp70789090509120').style.visibility = 'hidden';"><span id="ghlink-logger-api-idp70789090509120" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/logger_chapter.xml#L99" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="logger-api" href="#logger-api">2.2 
          Logger API</a></span></h3>
    
    <p>The API for logging consists of a set
      of <span class="bold_code bc-15"><a href="logger.html#macros">macros</a></span>, and a set
      of functions on the form <span class="code">logger:Level/1,2,3</span>, which are
      all shortcuts
      for <span class="bold_code bc-15"><a href="logger.html#log-2"><span class="code">logger:log(Level,Arg1[,Arg2[,Arg3]])</span></a></span>.</p>
    <p>The difference between using the macros and the exported
      functions is that macros add location (originator) information
      to the metadata, and performs lazy evaluation by wrapping the
      logger call in a case statement, so it is only evaluated if the
      log level of the event passes the primary log level check.</p>
    <h4>
<a name="log_level"></a><span onMouseOver="document.getElementById('ghlink-log-level-idp70789090502896').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-log-level-idp70789090502896').style.visibility = 'hidden';"><span id="ghlink-log-level-idp70789090502896" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/logger_chapter.xml#L112" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="log-level" href="#log-level">Log Level</a></span>
</h4>
      
      
      <p>The log level indicates the severity of a event. In
	accordance with the Syslog protocol, RFC-5424, eight log
	levels can be specified. The following table lists all
	possible log levels by name (atom), integer value, and
	description:</p>

      <div class="doc-table-wrapper">
<table class="doc-table">
<tr>
	  <td align="left" valign="middle"><strong>Level</strong></td>
	  <td align="left" valign="middle"><strong>Integer</strong></td>
	  <td align="left" valign="middle"><strong>Description</strong></td>
	</tr>
<tr>
	  <td align="left" valign="middle">emergency</td>
	  <td align="left" valign="middle">0</td>
	  <td align="left" valign="middle">system is unusable</td>
	</tr>
<tr>
	  <td align="left" valign="middle">alert</td>
	  <td align="left" valign="middle">1</td>
	  <td align="left" valign="middle">action must be taken immediately</td>
	</tr>
<tr>
	  <td align="left" valign="middle">critical</td>
	  <td align="left" valign="middle">2</td>
	  <td align="left" valign="middle">critical conditions</td>
	</tr>
<tr>
	  <td align="left" valign="middle">error</td>
	  <td align="left" valign="middle">3</td>
	  <td align="left" valign="middle">error conditions</td>
	</tr>
<tr>
	  <td align="left" valign="middle">warning</td>
	  <td align="left" valign="middle">4</td>
	  <td align="left" valign="middle">warning conditions</td>
	</tr>
<tr>
	  <td align="left" valign="middle">notice</td>
	  <td align="left" valign="middle">5</td>
	  <td align="left" valign="middle">normal but significant conditions</td>
	</tr>
<tr>
	  <td align="left" valign="middle">info</td>
	  <td align="left" valign="middle">6</td>
	  <td align="left" valign="middle">informational messages</td>
	</tr>
<tr>
	  <td align="left" valign="middle">debug</td>
	  <td align="left" valign="middle">7</td>
	  <td align="left" valign="middle">debug-level messages</td>
	</tr>
</table>
<p class="doc-table-caption">Table
        2.1:
         
        Log Levels</p>
</div>
      <p>Notice that the integer value is only used internally in
	Logger. In the API, you must always use the atom. To compare
	the severity of two log levels,
	use <span class="bold_code bc-15"><a href="logger.html#compare_levels-2"><span class="code">logger:compare_levels/2</span></a></span>.</p>
    
    <h4>
<a name="log_message"></a><span onMouseOver="document.getElementById('ghlink-log-message-idp70789090471424').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-log-message-idp70789090471424').style.visibility = 'hidden';"><span id="ghlink-log-message-idp70789090471424" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/logger_chapter.xml#L175" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="log-message" href="#log-message">Log Message</a></span>
</h4>
      
      
      <p>The log message contains the information to be logged. The
	message can consist of a format string and arguments (given as
	two separate parameters in the Logger API), a string or a
	report. The latter, which is either a map or a key-value list,
	can be accompanied by a <strong>report callback</strong> specified in
	the log event's <span class="bold_code bc-17"><a href="#metadata">metadata</a></span>.
	The report callback is a convenience function that
	the <span class="bold_code bc-17"><a href="#formatters">formatter</a></span> can use
	to convert the report to a format string and arguments. The
	formatter can also use its own conversion function, if no
	callback is provided, or if a customized formatting is
	desired.</p>
      <p>Example, format string and arguments:</p>
      <div class="example"><pre>logger:error("The file does not exist: ~ts",[Filename])</pre></div>
      <p>Example, string:</p>
      <div class="example"><pre>logger:notice("Something strange happened!")</pre></div>
      <p>Example, report, and metadata with report callback:</p>
      <div class="example"><pre>logger:debug(#{got =&gt; connection_request, id =&gt; Id, state =&gt; State},
             #{report_cb =&gt; fun(R) -&gt; {"~p",[R]} end})</pre></div>
      <p>The log message can also be provided through a fun for lazy
	evaluation. The fun is only evaluated if the primary log level
	check passes, and is therefore recommended if it is expensive
	to generate the message. The lazy fun must return a string, a
	report, or a tuple with format string and arguments.</p>
    
    <h4><span onMouseOver="document.getElementById('ghlink-metadata-idp70789090462560').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-metadata-idp70789090462560').style.visibility = 'hidden';"><span id="ghlink-metadata-idp70789090462560" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/logger_chapter.xml#L204" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="metadata" href="#metadata">Metadata</a></span></h4>
      
      <p>Metadata contains additional data associated with a log
	message. Logger inserts some metadata fields by default, and
	the client can add custom metadata in two different ways:</p>
      <dl>
	<dt><strong>Set process metadata</strong></dt>
	<dd>
	  <p>Process metadata is set and updated
	    with <span class="bold_code bc-15"><a href="logger.html#set_process_metadata-1"><span class="code">logger:set_process_metadata/1</span></a></span>
	    and <span class="bold_code bc-15"><a href="logger.html#update_process_metadata-1"><span class="code">logger:update_process metadata/1</span></a></span>,
	    respectively. This metadata applies to the process on
	    which these calls are made, and Logger adds the metadata
	    to all log events issued on that process.</p>
	</dd>
	<dt><strong>Add metadata to a specific log event</strong></dt>
	<dd>
	  <p>Metadata associated with one specific log event is given
	    as the last parameter to the log macro or Logger API
	    function when the event is issued. For example:</p>
	  <div class="example"><pre>?LOG_ERROR("Connection closed",#{context =&gt; server})</pre></div>
	</dd>
      </dl>
      <p>See the description of
	the <span class="bold_code bc-15"><a href="logger.html#type-metadata"><span class="code">logger:metadata()</span></a></span> type for information
	about which default keys Logger inserts, and how the different
	metadata maps are merged.</p>
    
  
  <h3>
<a name="filter"></a><span onMouseOver="document.getElementById('ghlink-filters-idp70789090453952').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-filters-idp70789090453952').style.visibility = 'hidden';"><span id="ghlink-filters-idp70789090453952" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/logger_chapter.xml#L236" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="filters" href="#filters">2.3 
          Filters</a></span>
</h3>
    
    
    <p>Filters can be primary, or attached to a specific
      handler. Logger calls the primary filters first, and if they all
      pass, it calls the handler filters for each handler. Logger
      calls the handler callback only if all filters attached to the
      handler in question also pass.</p>
    <p>A filter is defined as:</p>
    <div class="example"><pre>{FilterFun, Extra}</pre></div>
    <p>where <span class="code">FilterFun</span> is a function of arity 2,
      and <span class="code">Extra</span> is any term. When applying the filter, Logger
      calls the function with the log event as the first argument,
      and the value of <span class="code">Extra</span> as the second
      argument. See <span class="bold_code bc-15"><a href="logger.html#type-filter"><span class="code">logger:filter()</span></a></span> for type definitions.</p>
    <p>The filter function can return <span class="code">stop</span>, <span class="code">ignore</span> or
      the (possibly modified) log event.</p>
    <p>If <span class="code">stop</span> is returned, the log event is immediately
      discarded. If the filter is primary, no handler filters or
      callbacks are called. If it is a handler filter, the
      corresponding handler callback is not called, but the log event
      is forwarded to filters attached to the next handler, if
      any.</p>
    <p>If the log event is returned, the next filter function is
      called with the returned value as the first argument. That is,
      if a filter function modifies the log event, the next filter
      function receives the modified event. The value returned from
      the last filter function is the value that the handler callback
      receives.</p>
    <p>If the filter function returns <span class="code">ignore</span>, it means that it
      did not recognize the log event, and thus leaves to other
      filters to decide the event's destiny.</p>
    <p>The configuration option <span class="code">filter_default</span> specifies the
      behaviour if all filter functions return <span class="code">ignore</span>, or if no
      filters exist. <span class="code">filter_default</span> is by default set
      to <span class="code">log</span>, meaning that if all existing filters ignore a log
      event, Logger forwards the event to the handler
      callback. If <span class="code">filter_default</span> is set to <span class="code">stop</span>, Logger
      discards such events.</p>
    <p>Primary filters are added
      with <span class="bold_code bc-15"><a href="logger.html#add_primary_filter-2"><span class="code">logger:add_primary_filter/2</span></a></span>
      and removed
      with <span class="bold_code bc-15"><a href="logger.html#remove_primary_filter-1"><span class="code">logger:remove_primary_filter/1</span></a></span>. They can also
      be added at system start via the Kernel configuration
      parameter <span class="bold_code bc-17"><a href="#logger_parameter"><span class="code">logger</span></a></span>.</p>
    <p>Handler filters are added
      with <span class="bold_code bc-15"><a href="logger.html#add_handler_filter-3"><span class="code">logger:add_handler_filter/3</span></a></span>
      and removed
      with <span class="bold_code bc-15"><a href="logger.html#remove_handler_filter-2"><span class="code">logger:remove_handler_filter/2</span></a></span>. They can also
      be specified directly in the configuration when adding a handler
      with <span class="bold_code bc-15"><a href="logger.html#add_handler-3"><span class="code">logger:add_handler/3</span></a></span>
      or via the Kernel configuration
      parameter <span class="bold_code bc-17"><a href="#logger_parameter"><span class="code">logger</span></a></span>.</p>

    <p>To see which filters are currently installed in the system,
      use <span class="bold_code bc-15"><a href="logger.html#get_config-0"><span class="code">logger:get_config/0</span></a></span>,
      or <span class="bold_code bc-15"><a href="logger.html#get_primary_config-0"><span class="code">logger:get_primary_config/0</span></a></span>
      and <span class="bold_code bc-15"><a href="logger.html#get_handler_config-1"><span class="code">logger:get_handler_config/1</span></a></span>. Filters are
	listed in the order they are applied, that is, the first
	filter in the list is applied first, and so on.</p>

    <p>For convenience, the following built-in filters exist:</p>

    <dl>
	<dt><strong><span class="bold_code bc-15"><a href="logger_filters.html#domain-2"><span class="code">logger_filters:domain/2</span></a></span></strong></dt>
	<dd>
	  <p>Provides a way of filtering log events based on a
	  <span class="code">domain</span> field in <span class="code">Metadata</span>.</p>
	</dd>
	<dt><strong><span class="bold_code bc-15"><a href="logger_filters.html#level-2"><span class="code">logger_filters:level/2</span></a></span></strong></dt>
	<dd>
	  <p>Provides a way of filtering log events based on the log
	    level.</p>
	</dd>
	<dt><strong><span class="bold_code bc-15"><a href="logger_filters.html#progress-2"><span class="code">logger_filters:progress/2</span></a></span></strong></dt>
	<dd>
	  <p>Stops or allows progress reports from <span class="code">supervisor</span>
	    and <span class="code">application_controller</span>.</p>
	</dd>
	<dt><strong><span class="bold_code bc-15"><a href="logger_filters.html#remote_gl-2"><span class="code">logger_filters:remote_gl/2</span></a></span></strong></dt>
	<dd>
	  <p>Stops or allows log events originating from a process
	    that has its group leader on a remote node.</p>
	</dd>
    </dl>
  

  <h3>
<a name="handlers"></a><span onMouseOver="document.getElementById('ghlink-handlers-idp70789090419136').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-handlers-idp70789090419136').style.visibility = 'hidden';"><span id="ghlink-handlers-idp70789090419136" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/logger_chapter.xml#L336" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="handlers" href="#handlers">2.4 
          Handlers</a></span>
</h3>
    
    
    <p>A handler is defined as a module exporting at least the
      following function:</p>

    <div class="example"><pre><span class="bold_code bc-15"><a href="logger.html#HModule:log-2">log(LogEvent, Config) -&gt; void()</a></span></pre></div>

    <p>This function is called when a log event has passed through all
      primary filters, and all handler filters attached to the handler
      in question. The function call is executed on the client
      process, and it is up to the handler implementation if other
      processes are involved or not.</p>

    <p>Logger allows adding multiple instances of a handler
      callback. That is, if a callback module implementation allows
      it, you can add multiple handler instances using the same
      callback module. The different instances are identified by
      unique handler identities.</p>

    <p>In addition to the mandatory callback function <span class="code">log/2</span>, a
      handler module can export the optional callback
      functions <span class="code">adding_handler/1</span>, <span class="code">changing_config/2</span>
      and <span class="code">removing_handler/1</span>. See
      section <span class="bold_code bc-15"><a href="logger.html#handler_callback_functions">Handler Callback Functions</a></span> in the logger(3) manual page for
      more information about these function.</p>

    <p>The following built-in handlers exist:</p>

    <dl>
      <dt><strong><span class="code">logger_std_h</span></strong></dt>
      <dd>
	<p>This is the default handler used by OTP. Multiple instances
	  can be started, and each instance will write log events to a
	  given destination, terminal or file.</p>
      </dd>

      <dt><strong><span class="code">logger_disk_log_h</span></strong></dt>
      <dd>
	<p>This handler behaves much like <span class="code">logger_std_h</span>, except it uses
	  <span class="bold_code bc-19"><a href="disk_log.html"><span class="code">disk_log</span></a></span> as its
	  destination.</p>
      </dd>

      <dt><strong><a name="ErrorLoggerManager"></a><span class="code">error_logger</span></strong></dt>
      <dd>
	<p>This handler is provided for backwards compatibility
	  only. It is not started by default, but will be
	  automatically started the first time an <span class="code">error_logger</span>
	  event handler is added
	  with <span class="bold_code bc-15"><a href="error_logger.html#add_report_handler-1"><span class="code">error_logger:add_report_handler/1,2</span></a></span>.</p>

	<p>The old <span class="code">error_logger</span> event handlers in STDLIB and
	  SASL still exist, but they are not added by Erlang/OTP 21.0
	  or later.</p>
      </dd>
    </dl>
  

  <h3>
<a name="formatters"></a><span onMouseOver="document.getElementById('ghlink-formatters-idp70789090401808').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-formatters-idp70789090401808').style.visibility = 'hidden';"><span id="ghlink-formatters-idp70789090401808" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/logger_chapter.xml#L397" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="formatters" href="#formatters">2.5 
          Formatters</a></span>
</h3>
    
    
    <p>A formatter can be used by the handler implementation to do the
      final formatting of a log event, before printing to the
      handler's destination. The handler callback receives the
      formatter information as part of the handler configuration,
      which is passed as the second argument
      to <span class="bold_code bc-15"><a href="logger.html#HModule:log-2"><span class="code">HModule:log/2</span></a></span>.</p>
    <p>The formatter information consist of a formatter
      module, <span class="code">FModule</span> and its
      configuration, <span class="code">FConfig</span>. <span class="code">FModule</span> must export the
      following function, which can be called by the handler:</p>
    <div class="example"><pre><span class="bold_code bc-15"><a href="logger.html#FModule:format-2">format(LogEvent,FConfig) -&gt; FormattedLogEntry</a></span></pre></div>
    <p>The formatter information for a handler is set as a part of its
      configuration when the handler is added. It can also be changed
      during runtime
      with <span class="bold_code bc-15"><a href="logger.html#set_handler_config-3"><span class="code">logger:set_handler_config(HandlerId,formatter,{FModule,FConfig})</span></a></span>, which overwrites the current formatter information,
      or with <span class="bold_code bc-15"><a href="logger.html#update_formatter_config-2"><span class="code">logger:update_formatter_config/2,3</span></a></span>, which
	only modifies the formatter configuration.</p>
    <p>If the formatter module exports the optional callback
      function <span class="bold_code bc-15"><a href="logger.html#FModule:check_config-1"><span class="code">check_config(FConfig)</span></a></span>, Logger calls this
      function when the formatter information is set or modified, to
      verify the validity of the formatter configuration.</p>
    <p>If no formatter information is specified for a handler, Logger
      uses <span class="code">logger_formatter</span> as default. See
      the <span class="bold_code bc-19"><a href="logger_formatter.html"><span class="code">logger_formatter(3)</span></a></span>
      manual page for more information about this module.</p>
  

  <h3><span onMouseOver="document.getElementById('ghlink-configuration-idp70789090390528').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-configuration-idp70789090390528').style.visibility = 'hidden';"><span id="ghlink-configuration-idp70789090390528" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/logger_chapter.xml#L433" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="configuration" href="#configuration">2.6 
          Configuration</a></span></h3>
    

    <p>At system start, Logger is configured through Kernel
      configuration parameters. The parameters that apply to Logger
      are described in
      section <span class="bold_code bc-17"><a href="#kernel_config_params">Kernel Configuration Parameters</a></span>. Examples are found in
      section <span class="bold_code bc-17"><a href="#config_examples">Configuration Examples</a></span>.</p>
    <p>During runtime, Logger configuration is changed via API
      functions. See
      section <span class="bold_code bc-15"><a href="logger.html#configuration_API">Configuration API Functions</a></span> in the <span class="code">logger(3)</span> manual page.</p>

    <h4><span onMouseOver="document.getElementById('ghlink-primary-logger-configuration-idp70789090387088').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-primary-logger-configuration-idp70789090387088').style.visibility = 'hidden';"><span id="ghlink-primary-logger-configuration-idp70789090387088" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/logger_chapter.xml#L448" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="primary-logger-configuration" href="#primary-logger-configuration">Primary Logger Configuration</a></span></h4>
      
      <p>Logger API functions that apply to the primary Logger
	configuration are:</p>
      <ul>
	<li><span class="bold_code bc-15"><a href="logger.html#get_primary_config-0"><span class="code">get_primary_config/0</span></a></span></li>
	<li><span class="bold_code bc-15"><a href="logger.html#set_primary_config-1"><span class="code">set_primary_config/1,2</span></a></span></li>
	<li><span class="bold_code bc-15"><a href="logger.html#update_primary_config-1"><span class="code">update_primary_config/1</span></a></span></li>
	<li><span class="bold_code bc-15"><a href="logger.html#add_primary_filter-2"><span class="code">add_primary_filter/2</span></a></span></li>
	<li><span class="bold_code bc-15"><a href="logger.html#remove_primary_filter-1"><span class="code">remove_primary_filter/1</span></a></span></li>
      </ul>
      <p>The primary Logger configuration is a map with the following
	keys:</p>
      <dl>
	<dt><strong><a name="primary_level"></a>
	  <span class="code">level = </span><span class="bold_code bc-15"><a href="logger.html#type-level"><span class="code">logger:level()</span></a></span><span class="code"> | all | none</span></strong></dt>
	<dd>
	  <p>Specifies the primary log level, that is, log event that
	    are equally or more severe than this level, are forwarded
	    to the primary filters. Less severe log events are
	    immediately discarded.</p>
	  <p>See section <span class="bold_code bc-17"><a href="#log_level">Log Level</a></span> for a listing and description of
	      possible log levels.</p>
	  <p>The initial value of this option is set by the Kernel
	    configuration parameter <span class="bold_code bc-17"><a href="#logger_level"><span class="code">logger_level</span></a></span>. It is changed during
	    runtime with <span class="bold_code bc-15"><a href="logger.html#set_primary_config-2"><span class="code">logger:set_primary_config(level,Level)</span></a></span>.</p>
	  <p>Defaults to <span class="code">info</span>.</p>
	</dd>
	<dt><strong><span class="code">filters = [{FilterId,Filter}]</span></strong></dt>
	<dd>
	  <p>Specifies the primary filters.</p>
	  <ul>
	    <li>
<span class="code">FilterId = </span><span class="bold_code bc-15"><a href="logger.html#type-filter_id"><span class="code">logger:filter_id()</span></a></span>
</li>
	    <li>
<span class="code">Filter = </span><span class="bold_code bc-15"><a href="logger.html#type-filter"><span class="code">logger:filter()</span></a></span>
</li>
	  </ul>
	  <p>The initial value of this option is set by the Kernel
	    configuration
	    parameter <span class="bold_code bc-17"><a href="#logger_parameter"><span class="code">logger</span></a></span>.
	    During runtime, primary filters are added and removed with
	    <span class="bold_code bc-15"><a href="logger.html#add_primary_filter-2"><span class="code">logger:add_primary_filter/2</span></a></span> and
	    <span class="bold_code bc-15"><a href="logger.html#remove_primary_filter-1"><span class="code">logger:remove_primary_filter/1</span></a></span>,
	    respectively.</p>
	  <p>See section <span class="bold_code bc-17"><a href="#filters">Filters</a></span>
	    for more detailed information.</p>
	  <p>Defaults to <span class="code">[]</span>.</p>
	</dd>
	<dt><strong><span class="code">filter_default = log | stop</span></strong></dt>
	<dd>
	  <p>Specifies what happens to a log event if all filters
	    return <span class="code">ignore</span>, or if no filters exist.</p>
	  <p>See section <span class="bold_code bc-17"><a href="#filters">Filters</a></span>
	    for more information about how this option is used.</p>
	  <p>Defaults to <span class="code">log</span>.</p>
	</dd>
      </dl>
    

    <h4>
<a name="handler_configuration"></a><span onMouseOver="document.getElementById('ghlink-handler-configuration-idp70789090356640').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-handler-configuration-idp70789090356640').style.visibility = 'hidden';"><span id="ghlink-handler-configuration-idp70789090356640" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/logger_chapter.xml#L518" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="handler-configuration" href="#handler-configuration">Handler Configuration</a></span>
</h4>
      
      
      <p>Logger API functions that apply to handler configuration
	are:</p>
      <ul>
	<li><span class="bold_code bc-15"><a href="logger.html#get_handler_config-0"><span class="code">get_handler_config/0,1</span></a></span></li>
	<li><span class="bold_code bc-15"><a href="logger.html#set_handler_config-2"><span class="code">set_handler_config/2,3</span></a></span></li>
	<li><span class="bold_code bc-15"><a href="logger.html#update_handler_config-2"><span class="code">update_handler_config/2</span></a></span></li>
	<li><span class="bold_code bc-15"><a href="logger.html#add_handler_filter-3"><span class="code">add_handler_filter/3</span></a></span></li>
	<li><span class="bold_code bc-15"><a href="logger.html#remove_handler_filter-2"><span class="code">remove_handler_filter/2</span></a></span></li>
	<li><span class="bold_code bc-15"><a href="logger.html#update_formatter_config-2"><span class="code">update_formatter_config/2,3</span></a></span></li>
      </ul>
      <p>The configuration for a handler is a map with the following keys:</p>
      <dl>
	<dt><strong><span class="code">id = </span><span class="bold_code bc-15"><a href="logger.html#type-handler_id"><span class="code">logger:handler_id()</span></a></span></strong></dt>
	<dd>
	  <p>Automatically inserted by Logger. The value is the same
	    as the <span class="code">HandlerId</span> specified when adding the handler,
	    and it cannot be changed.</p>
	</dd>
	<dt><strong><span class="code">module = module()</span></strong></dt>
	<dd>
	  <p>Automatically inserted by Logger. The value is the same
	    as the <span class="code">Module</span> specified when adding the handler,
	    and it cannot be changed.</p>
	</dd>
	<dt><strong><span class="code">level = </span><span class="bold_code bc-15"><a href="logger.html#type-level"><span class="code">logger:level()</span></a></span><span class="code"> | all | none</span></strong></dt>
	<dd>
	  <p>Specifies the log level for the handler, that is, log
	    events that are equally or more severe than this level,
	    are forwarded to the handler filters for this
	    handler.</p>
	  <p>See section <span class="bold_code bc-17"><a href="#log_level">Log Level</a></span> for a listing and description of
	      possible log levels.</p>
	  <p>The log level is specified when adding the handler, or
	    changed during runtime with, for
	    instance, <span class="bold_code bc-15"><a href="logger.html#set_handler_config-3"><span class="code">logger:set_handler_config(HandlerId,level,Level)</span></a></span>.
	  </p>
	  <p>Defaults to <span class="code">all</span>.</p>
	</dd>
	<dt><strong><span class="code">filters = [{FilterId,Filter}]</span></strong></dt>
	<dd>
	  <p>Specifies the handler filters.</p>
	  <ul>
	    <li>
<span class="code">FilterId = </span><span class="bold_code bc-15"><a href="logger.html#type-filter_id"><span class="code">logger:filter_id()</span></a></span>
</li>
	    <li>
<span class="code">Filter = </span><span class="bold_code bc-15"><a href="logger.html#type-filter"><span class="code">logger:filter()</span></a></span>
</li>
	  </ul>
	  <p>Handler filters are specified when adding the handler,
	    or added or removed during runtime with
	    <span class="bold_code bc-15"><a href="logger.html#add_handler_filter-3"><span class="code">logger:add_handler_filter/3</span></a></span> and
	    <span class="bold_code bc-15"><a href="logger.html#remove_handler_filter-2"><span class="code">logger:remove_handler_filter/2</span></a></span>,
	    respectively.</p>
	  <p>See <span class="bold_code bc-17"><a href="#filters">Filters</a></span> for more
	    detailed information.</p>
	  <p>Defaults to <span class="code">[]</span>.</p>
	</dd>
	<dt><strong><span class="code">filter_default = log | stop</span></strong></dt>
	<dd>
	  <p>Specifies what happens to a log event if all filters
	    return <span class="code">ignore</span>, or if no filters exist.</p>
	  <p>See section <span class="bold_code bc-17"><a href="#filters">Filters</a></span>
	    for more information about how this option is used.</p>
	  <p>Defaults to <span class="code">log</span>.</p>
	</dd>
	<dt><strong><span class="code">formatter = {FormatterModule,FormatterConfig}</span></strong></dt>
	<dd>
	  <p>Specifies a formatter that the handler can use for
	    converting the log event term to a printable string.</p>
	  <ul>
	    <li><span class="code">FormatterModule = module()</span></li>
	    <li>
<span class="code">FormatterConfig = </span>
		<span class="bold_code bc-15"><a href="logger.html#type-formatter_config"><span class="code">logger:formatter_config()</span></a></span>
</li>
	    </ul>
	  <p>The formatter information is specified when adding the
	    handler. The formatter configuration can be changed during
	    runtime
	    with <span class="bold_code bc-15"><a href="logger.html#update_formatter_config-2"><span class="code">logger:update_formatter_config/2,3</span></a></span>,
	    or the complete formatter information can be overwritten
	    with, for
	    instance, <span class="bold_code bc-15"><a href="logger.html#set_handler_config-3"><span class="code">logger:set_handler_config/3</span></a></span>.</p>
	  <p>See
	    section <span class="bold_code bc-17"><a href="#formatters">Formatters</a></span>
	    for more detailed information.</p>
	  <p>Defaults
	    to <span class="code">{logger_formatter,DefaultFormatterConfig}</span>. See
	    the <span class="bold_code bc-19"><a href="logger_formatter.html"><span class="code">logger_formatter(3)</span></a></span> manual page for
	    information about this formatter and its default
	    configuration.</p>
	</dd>
	<dt><strong><span class="code">config = term()</span></strong></dt>
	<dd>
	  <p>Handler specific configuration, that is, configuration
	    data related to a specific handler implementation.</p>
	  <p>The configuration for the built-in handlers is described
            in
            the <span class="bold_code bc-19"><a href="logger_std_h.html"><span class="code">logger_std_h(3)</span></a></span>
            and
            <span class="bold_code bc-19"><a href="logger_disk_log_h.html"><span class="code">logger_disk_log_h(3)</span></a></span> manual pages.</p>
	</dd>
      </dl>

      <p>Notice that <span class="code">level</span> and <span class="code">filters</span> are obeyed by
	Logger itself before forwarding the log events to each
	handler, while <span class="code">formatter</span> and all handler specific
	options are left to the handler implementation.</p>
    

    <h4>
<a name="kernel_config_params"></a><span onMouseOver="document.getElementById('ghlink-kernel-configuration-parameters-idp70789090307008').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-kernel-configuration-parameters-idp70789090307008').style.visibility = 'hidden';"><span id="ghlink-kernel-configuration-parameters-idp70789090307008" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/logger_chapter.xml#L645" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="kernel-configuration-parameters" href="#kernel-configuration-parameters">Kernel Configuration Parameters</a></span>
</h4>
      
      

    <p>The following Kernel configuration parameters apply to
      Logger:</p>
    <dl>
      <dt><strong><a name="logger_parameter"></a><span class="code">logger = [Config]</span></strong></dt>
      <dd>
        <p>Specifies the configuration
	  for <span class="bold_code bc-19"><a href="logger.html">Logger</a></span>, except the
	  primary log level, which is specified
	  with <span class="bold_code bc-17"><a href="#logger_level"><span class="code">logger_level</span></a></span>,
	  and the compatibility
	  with <span class="bold_code bc-18"><a href="javascript:erlhref('../../../../doc/../','sasl','error_logging.html');">SASL Error Logging</a></span>, which is specified
	  with <span class="bold_code bc-17"><a href="#logger_sasl_compatible"><span class="code">logger_sasl_compatible</span></a></span>.</p>
	<p>With this parameter, you can modify or disable the default
	  handler, add custom handlers and primary logger filters, and
	  set log levels per module.</p>
	<p><span class="code">Config</span> is any (zero or more) of the following:</p>
	<dl>
          <dt><strong><span class="code">{handler, default, undefined}</span></strong></dt>
          <dd>
	    <p>Disables the default handler. This allows another
              application to add its own default handler.</p>
	    <p>Only one entry of this type is allowed.</p>
	  </dd>
          <dt><strong><span class="code">{handler, HandlerId, Module, HandlerConfig}</span></strong></dt>
          <dd>
	    <p>If <span class="code">HandlerId</span> is <span class="code">default</span>, then this entry
	      modifies the default handler, equivalent to calling</p>
	    <div class="example"><pre><span class="bold_code bc-15"><a href="logger.html#set_handler_config-2">logger:set_handler_config(default, Module, HandlerConfig)</a></span></pre></div>
	    <p>For all other values of <span class="code">HandlerId</span>, this entry
	      adds a new handler, equivalent to calling</p>
	    <div class="example"><pre><span class="bold_code bc-18"><a href="javascript:erlhref('../../../../doc/../','logger','add_handler/3.html');">logger:add_handler(HandlerId, Module, HandlerConfig)</a></span></pre></div>
	    <p>Multiple entries of this type are allowed.</p>
</dd>
          <dt><strong><span class="code">{filters, FilterDefault, [Filter]}</span></strong></dt>
          <dd>
	    <p>Adds the specified primary filters.</p>
	    <ul>
              <li><span class="code">FilterDefault = log | stop</span></li>
              <li><span class="code">Filter = {FilterId, {FilterFun, FilterConfig}}</span></li>
	    </ul>
	    <p>Equivalent to calling</p>
	    <div class="example"><pre><span class="bold_code bc-15"><a href="logger.html#add_primary_filter-2">logger:add_primary_filter(FilterId, {FilterFun, FilterConfig})</a></span></pre></div>
	    <p>for each <span class="code">Filter</span>.</p>
	    <p><span class="code">FilterDefault</span> specifies the behaviour if all
	      primary filters return <span class="code">ignore</span>, see
	      section <span class="bold_code bc-17"><a href="#filters">Filters</a></span>.</p>
	    <p>Only one entry of this type is allowed.</p>
	  </dd>
          <dt><strong><span class="code">{module_level, Level, [Module]}</span></strong></dt>
          <dd>
	    <p>Sets module log level for the given modules. Equivalent
	      to calling</p>
	    <div class="example"><pre><span class="bold_code bc-15"><a href="logger.html#set_module_level-2">logger:set_module_level(Module, Level)</a></span></pre></div>
	    <p>for each <span class="code">Module</span>.</p>
	    <p>Multiple entries of this type are allowed.</p>
	  </dd>
	</dl>
	<p>See
	  section <span class="bold_code bc-17"><a href="#config_examples">Configuration Examples</a></span> for examples using the <span class="code">logger</span>
	  parameter for system configuration.</p>
      </dd>
      <dt><strong><a name="logger_level"></a>
	<span class="code">logger_level = Level</span></strong></dt>
      <dd>
	<p>Specifies the primary log level. See
	  the <span class="bold_code bc-15"><a href="kernel_app.html#logger_level"><span class="code">kernel(6)</span></a></span>
	  manual page for more information about this parameter.</p>
      </dd>
      <dt><strong><a name="logger_sasl_compatible"></a>
	<span class="code">logger_sasl_compatible = true | false</span></strong></dt>
      <dd>
	<p>Specifies Logger's compatibility
	  with <span class="bold_code bc-18"><a href="javascript:erlhref('../../../../doc/../','sasl','error_logging.html');">SASL Error Logging</a></span>. See
	  the <span class="bold_code bc-15"><a href="kernel_app.html#logger_sasl_compatible"><span class="code">kernel(6)</span></a></span> manual page for more
	  information about this parameter.</p>
      </dd>
    </dl>
    

    <h4>
<a name="config_examples"></a><span onMouseOver="document.getElementById('ghlink-configuration-examples-idp70789090269840').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-configuration-examples-idp70789090269840').style.visibility = 'hidden';"><span id="ghlink-configuration-examples-idp70789090269840" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/logger_chapter.xml#L739" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="configuration-examples" href="#configuration-examples">Configuration Examples</a></span>
</h4>
      
      
      <p>The value of the Kernel configuration parameter <span class="code">logger</span>
	is a list of tuples. It is possible to write the term on the
	command line when starting an erlang node, but as the term
	grows, a better approach is to use the system configuration
	file. See
	the <span class="bold_code bc-19"><a href="config.html"><span class="code">config(4)</span></a></span> manual
	page for more information about this file.</p>
      <p>Each of the following examples shows a simple system
	configuration file that configures Logger according to the
	description.</p>
      <p>Modify the default handler to print to a file instead of
	<span class="code">standard_io</span>:</p>
      <div class="example"><pre>[{kernel,
  [{logger,
    [{handler, default, logger_std_h,  % {handler, HandlerId, Module,
      #{config =&gt; #{type =&gt; {file,"log/erlang.log"}}}}  % Config}
    ]}]}].</pre></div>
      <p>Modify the default handler to print each log event as a
	single line:</p>
      <div class="example"><pre>[{kernel,
  [{logger,
    [{handler, default, logger_std_h,
      #{formatter =&gt; {logger_formatter, #{single_line =&gt; true}}}}
    ]}]}].</pre></div>
      <p>Modify the default handler to print the pid of the logging
	process for each log event:</p>
      <div class="example"><pre>[{kernel,
  [{logger,
    [{handler, default, logger_std_h,
      #{formatter =&gt; {logger_formatter,
                        #{template =&gt; [time," ",pid," ",msg,"\n"]}}}}
    ]}]}].</pre></div>
      <p>Modify the default handler to only print errors and more
	severe log events to "log/erlang.log", and add another handler
	to print all log events to "log/debug.log".</p>
      <div class="example"><pre>[{kernel,
  [{logger,
    [{handler, default, logger_std_h,
      #{level =&gt; error,
        config =&gt; #{type =&gt; {file, "log/erlang.log"}}}},
     {handler, info, logger_std_h,
      #{level =&gt; debug,
        config =&gt; #{type =&gt; {file, "log/debug.log"}}}}
    ]}]}].</pre></div>
    

  

  <h3>
<a name="compatibility"></a><span onMouseOver="document.getElementById('ghlink-backwards-compatibility-with-error_logger-idp70789090260352').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-backwards-compatibility-with-error_logger-idp70789090260352').style.visibility = 'hidden';"><span id="ghlink-backwards-compatibility-with-error_logger-idp70789090260352" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/logger_chapter.xml#L798" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="backwards-compatibility-with-error_logger" href="#backwards-compatibility-with-error_logger">2.7 
          Backwards Compatibility with error_logger</a></span>
</h3>
    
    
    <p>Logger provides backwards compatibility with
      <span class="code">error_logger</span> in the following ways:</p>

    <dl>
      <dt><strong>API for Logging</strong></dt>
      <dd>
	<p>The <span class="code">error_logger</span> API still exists, but should only
	  be used by legacy code. It will be removed in a later
	  release.</p>
	<p>Calls
	  to <span class="bold_code bc-15"><a href="error_logger.html#error_report-1"><span class="code">error_logger:error_report/1,2</span></a></span>,
	  <span class="bold_code bc-15"><a href="error_logger.html#error_msg-1"><span class="code">error_logger:error_msg/1,2</span></a></span>, and
	  corresponding functions for warning and info messages, are
	  all forwarded to Logger as calls
	  to <span class="bold_code bc-15"><a href="logger.html#log-3"><span class="code">logger:log(Level,Report,Metadata)</span></a></span>.</p>
	<p><span class="code">Level = error | warning | info</span> and is taken
	  from the function name. <span class="code">Report</span> contains the actual
	  log message, and <span class="code">Metadata</span> contains additional
	  information which can be used for creating backwards
	  compatible events for legacy <span class="code">error_logger</span> event
	  handlers, see
	  section <span class="bold_code bc-17"><a href="#legacy_event_handlers">Legacy Event Handlers</a></span>.</p>
      </dd>
      <dt><strong>Output Format</strong></dt>
      <dd>
	<p>To get log events on the same format as produced
	  by <span class="code">error_logger_tty_h</span> and <span class="code">error_logger_file_h</span>,
	  use the default formatter, <span class="code">logger_formatter</span>, with
	  configuration parameter <span class="code">legacy_header</span> set
	  to <span class="code">true</span>. This is the default configuration of
	  the <span class="code">default</span> handler started by Kernel.</p>
      </dd>
      <dt><strong>Default Format of Log Events from OTP</strong></dt>
      <dd>
	<p>By default, all log events originating from within OTP,
	  except the former so called "SASL reports", look the same as
	  before.</p>
      </dd>
      <dt><strong><a name="sasl_reports"></a>SASL Reports</strong></dt>
      <dd>
	<p>By SASL reports we mean supervisor reports, crash reports
	  and progress reports.</p>
	<p>Prior to Erlang/OTP 21.0, these reports were only logged
	  when the SASL application was running, and they were printed
	  trough SASL's own event handlers <span class="code">sasl_report_tty_h</span>
	  and <span class="code">sasl_report_file_h</span>.</p>
	<p>The destination of these log events was configured by
	  <span class="bold_code bc-13"><a href="javascript:erlhref('../../../../doc/../','sasl','sasl_app.html#deprecated_error_logger_config');">SASL configuration parameters</a></span>.</p>
	<p>Due to the specific event handlers, the output format
	  slightly differed from other log events.</p>
	<p>As of Erlang/OTP 21.0, the concept of SASL reports is
	  removed, meaning that the default behaviour is as
	  follows:</p>
	<ul>
	  <li>Supervisor reports, crash reports, and progress reports
	    are no longer connected to the SASL application.</li>
	  <li>Supervisor reports and crash reports are issued
	    as <span class="code">error</span> level log events, and are logged through
	    the default handler started by Kernel.</li>
	  <li>Progress reports are issued as <span class="code">info</span> level log
	    events, and since the default primary log level
	    is <span class="code">notice</span>, these are not logged by default. To
	    enable printing of progress reports, set
	    the <span class="bold_code bc-17"><a href="#primary_level">primary log level</a></span> to <span class="code">info</span>.</li>
	  <li>The output format is the same for all log
	    events.</li>
	</ul>
	<p>If the old behaviour is preferred, the Kernel configuration
	  parameter <span class="bold_code bc-15"><a href="kernel_app.html#logger_sasl_compatible"><span class="code">logger_sasl_compatible</span></a></span> can be set
	  to <span class="code">true</span>. The
	  <span class="bold_code bc-13"><a href="javascript:erlhref('../../../../doc/../','sasl','sasl_app.html#deprecated_error_logger_config');">SASL configuration parameters</a></span> can then be used as
	  before, and the SASL reports will only be printed if the
	  SASL application is running, through a second log handler
	  named <span class="code">sasl</span>.</p>
	<p>All SASL reports have a metadata field <span class="code">domain</span> which
	  is set to <span class="code">[otp,sasl]</span>. This field can be
	  used by filters to stop or allow the log events.</p>
	<p>See section <span class="bold_code bc-18"><a href="javascript:erlhref('../../../../doc/../','sasl','error_logging.html');">SASL User's Guide</a></span> for more information about the old SASL
	  error logging functionality.</p>
      </dd>
      <dt><strong><a name="legacy_event_handlers"></a>Legacy Event Handlers</strong></dt>
      <dd>
	<p>To use event handlers written for <span class="code">error_logger</span>, just
	  add your event handler with</p>
	<div class="example"><pre>error_logger:add_report_handler/1,2.</pre></div>
	<p>This automatically starts the error logger event manager,
	  and adds <span class="code">error_logger</span> as a handler to Logger, with
	  the following configuration:</p>
<div class="example"><pre>#{level =&gt; info,
  filter_default =&gt; log,
  filters =&gt; []}.</pre></div>
	<div class="note">
<div class="label">Note</div>
<div class="content"><p>
	  <p>This handler ignores events that do not originate from
	    the <span class="code">error_logger</span> API, or from within OTP. This
	    means that if your code uses the Logger API for logging,
	    then your log events will be discarded by this
	    handler.</p>
	  <p>The handler is not overload protected.</p>
	</p></div>
</div>
      </dd>
    </dl>
  


  <h3><span onMouseOver="document.getElementById('ghlink-error-handling-idp70789090198880').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-error-handling-idp70789090198880').style.visibility = 'hidden';"><span id="ghlink-error-handling-idp70789090198880" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/logger_chapter.xml#L918" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="error-handling" href="#error-handling">2.8 
          Error Handling</a></span></h3>
    
    <p>Logger does, to a certain extent, check its input data before
      forwarding a log event to filters and handlers. It does,
      however, not evaluate report callbacks, or check the validity of
      format strings and arguments. This means that all filters and
      handlers must be careful when formatting the data of a log
      event, making sure that it does not crash due to bad input data
      or faulty callbacks.</p>
    <p>If a filter or handler still crashes, Logger will remove the
      filter or handler in question from the configuration, and print
      a short error message to the terminal. A debug event containing
      the crash reason and other details is also issued.</p>
    <p>See section <span class="bold_code bc-17"><a href="#log_message">Log Message</a></span> for more information about report callbacks
      and valid forms of log messages.</p>
  

  <h3><span onMouseOver="document.getElementById('ghlink-example--add-a-handler-to-log-debug-events-to-file-idp70789090196000').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-example--add-a-handler-to-log-debug-events-to-file-idp70789090196000').style.visibility = 'hidden';"><span id="ghlink-example--add-a-handler-to-log-debug-events-to-file-idp70789090196000" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/logger_chapter.xml#L936" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="example--add-a-handler-to-log-debug-events-to-file" href="#example--add-a-handler-to-log-debug-events-to-file">2.9 
          Example: Add a handler to log debug events to file</a></span></h3>
    
    <p>When starting an Erlang node, the default behaviour is that all
      log events on level info or more severe, are logged to the
      terminal via the default handler. To also log debug events, you
      can either change the primary log level to <span class="code">debug</span>:</p>
    <div class="example"><pre>
1&gt; <span class="bold_code bc-12">logger:set_primary_config(level, debug).</span>
ok</pre></div>
    <p>or set the level for one or a few modules only:</p>
    <div class="example"><pre>
2&gt; <span class="bold_code bc-12">logger:set_module_level(mymodule, debug).</span>
ok</pre></div>
    <p>This allows debug events to pass through to the default handler,
      and be printed to the terminal as well. If there are many debug
      events, it can be useful to print these to a file instead.</p>
    <p>First, set the log level of the default handler to <span class="code">info</span>,
      preventing it from printing debug events to the terminal:</p>
    <div class="example"><pre>
3&gt; <span class="bold_code bc-12">logger:set_handler_config(default, level, info).</span>
ok</pre></div>
    <p>Then, add a new handler which prints to file. You can use the
      handler
      module <span class="bold_code bc-19"><a href="logger_std_h.html"><span class="code">logger_std_h</span></a></span>,
      and specify type <span class="code">{file,File}</span>. The default handler level
      is <span class="code">all</span>, so you don't need to specify that:</p>
    <div class="example"><pre>
4&gt; <span class="bold_code bc-12">Config = #{config =&gt; #{type =&gt; {file,"./debug.log"}}}.</span>
#{config =&gt; #{type =&gt; {file,"./debug.log"}}}
5&gt; <span class="bold_code bc-12">logger:add_handler(debugger, logger_std_h, Config).</span>
ok</pre></div>
    <p>Since <span class="code">filter_default</span> defaults to <span class="code">log</span>, this
      handler now receives all log events. If you want debug events
      only in the file, you must add a filter to stop all non-debug
      events. The built-in
      filter <span class="bold_code bc-15"><a href="logger_filters.html#level-2"><span class="code">logger_filters:level/2</span></a></span>
      can do this:</p>
    <div class="example"><pre>
6&gt; <span class="bold_code bc-12">logger:add_handler_filter(debugger, stop_non_debug,
                             {fun logger_filters:level/2, {stop, neq, debug}}).</span>
ok</pre></div>
    <p>See section <span class="bold_code bc-17"><a href="#filters">Filters</a></span> for
    more information about the filters and the <span class="code">filter_default</span>
    configuration parameter.</p>

  

  <h3><span onMouseOver="document.getElementById('ghlink-example--implement-a-handler-idp70789089631456').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-example--implement-a-handler-idp70789089631456').style.visibility = 'hidden';"><span id="ghlink-example--implement-a-handler-idp70789089631456" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/logger_chapter.xml#L984" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="example--implement-a-handler" href="#example--implement-a-handler">2.10 
          Example: Implement a handler</a></span></h3>
    
    <p>Section <span class="bold_code bc-15"><a href="logger.html#handler_callback_functions">Handler Callback Functions</a></span> in the logger(3) manual page
	describes the callback functions that can be implemented for a
	Logger handler.</p>
    <p>A handler callback module must export:</p>
    <ul>
      <li><span class="code">log(Log, Config)</span></li>
    </ul>
    <p>It can optionally also export some, or all, of the following:</p>
    <ul>
      <li><span class="code">adding_handler(Config)</span></li>
      <li><span class="code">removing_handler(Config)</span></li>
      <li><span class="code">changing_config(OldConfig, NewConfig)</span></li>
    </ul>
    <p>When a handler is added, by for example a call
      to <span class="bold_code bc-15"><a href="logger.html#add_handler-3"><span class="code">logger:add_handler(Id, HModule, Config)</span></a></span>,
      Logger first calls <span class="code">HModule:adding_handler(Config)</span>. If
      this function returns <span class="code">{ok,Config1}</span>, Logger
      writes <span class="code">Config1</span> to the configuration database, and
      the <span class="code">logger:add_handler/3</span> call returns. After this, the
      handler is installed and must be ready to receive log events as
      calls to <span class="code">HModule:log/2</span>.</p>
    <p>A handler can be removed by calling
      <span class="bold_code bc-15"><a href="logger.html#remove_handler-1"><span class="code">logger:remove_handler(Id)</span></a></span>. Logger calls
      <span class="code">HModule:removing_handler(Config)</span>, and removes the
      handler's configuration from the configuration database.</p>
    <p>When <span class="bold_code bc-15"><a href="logger.html#set_handler_config-2"><span class="code">logger:set_handler_config/2,3</span></a></span>
      or <span class="bold_code bc-15"><a href="logger.html#update_handler_config-2"><span class="code">logger:update_handler_config/2</span></a></span> is called,
      Logger
      calls <span class="code">HModule:changing_config(OldConfig, NewConfig)</span>. If
      this function returns <span class="code">{ok,NewConfig1}</span>, Logger
      writes <span class="code">NewConfig1</span> to the configuration database.</p>

    <p>A simple handler that prints to the terminal can be implemented
      as follows:</p>
    <div class="example"><pre>-module(myhandler).
-export([log/2]).

log(LogEvent, #{formatter := {FModule, FConfig}) -&gt;
    io:put_chars(FModule:format(LogEvent, FConfig)).</pre></div>

    <p>A simple handler which prints to file can be implemented like
      this:</p>
    <div class="example"><pre>-module(myhandler).
-export([adding_handler/1, removing_handler/1, log/2]).
-export([init/1, handle_call/3, handle_cast/2, terminate/2]).

adding_handler(Config) -&gt;
    {ok, Fd} = file:open(File, [append, {encoding, utf8}]),
    {ok, Config#{myhandler_fd =&gt; Fd}}.

removing_handler(#{myhandler_fd := Fd}) -&gt;
    _ = file:close(Fd),
    ok.

log(LogEvent,#{myhandler_fd := Fd, formatter := {FModule, FConfig}}) -&gt;
    io:put_chars(Fd, FModule:format(LogEvent, FConfig)).</pre></div>

    <div class="note">
<div class="label">Note</div>
<div class="content"><p>
      <p>The above handlers do not have any overload
	protection, and all log events are printed directly from the
	client process.</p>
      <p>For information and examples of overload protection, please
	refer to
	section <span class="bold_code bc-17"><a href="#overload_protection">Protecting the Handler from Overload</a></span>, and the implementation
	of <span class="bold_code bc-19"><a href="logger_std_h.html"><span class="code">logger_std_h</span></a></span>
	and <span class="bold_code bc-19"><a href="logger_disk_log_h.html"><span class="code">logger_disk_log_h</span></a></span>.</p>
    </p></div>
</div>

    <p>Below is a simpler example of a handler which logs through one
      single process.</p>
    <div class="example"><pre>-module(myhandler).
-export([adding_handler/1, removing_handler/1, log/2]).
-export([init/1, handle_call/3, handle_cast/2, terminate/2]).

adding_handler(Config) -&gt;
    {ok, Pid} = gen_server:start(?MODULE, Config),
    {ok, Config#{myhandler_pid =&gt; Pid}}.

removing_handler(#{myhandler_pid := Pid}) -&gt;
    gen_server:stop(Pid).

log(LogEvent,#{myhandler_pid := Pid} = Config) -&gt;
    gen_server:cast(Pid, {log, LogEvent, Config}).

init(#{myhandler_file := File}) -&gt;
    {ok, Fd} = file:open(File, [append, {encoding, utf8}]),
    {ok, #{file =&gt; File, fd =&gt; Fd}}.

handle_call(_, _, State) -&gt;
    {reply, {error, bad_request}, State}.

handle_cast({log, LogEvent, Config}, #{fd := Fd} = State) -&gt;
    do_log(Fd, LogEvent, Config),
    {noreply, State}.

terminate(Reason, #{fd := Fd}) -&gt;
    _ = file:close(Fd),
    ok.

do_log(Fd, LogEvent, #{formatter := {FModule, FConfig}}) -&gt;
    String = FModule:format(LogEvent, FConfig),
    io:put_chars(Fd, String).</pre></div>
  

  <h3>
<a name="overload_protection"></a><span onMouseOver="document.getElementById('ghlink-protecting-the-handler-from-overload-idp70789090089360').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-protecting-the-handler-from-overload-idp70789090089360').style.visibility = 'hidden';"><span id="ghlink-protecting-the-handler-from-overload-idp70789090089360" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/logger_chapter.xml#L1103" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="protecting-the-handler-from-overload" href="#protecting-the-handler-from-overload">2.11 
          Protecting the Handler from Overload</a></span>
</h3>
    
    
    <p>In order for the built-in handlers to survive, and stay responsive,
    during periods of high load (i.e. when huge numbers of incoming
    log requests must be handled), a mechanism for overload protection
    has been implemented in the
    <span class="bold_code bc-19"><a href="logger_std_h.html"><span class="code">logger_std_h</span></a></span>
    and <span class="bold_code bc-19"><a href="logger_disk_log_h.html"><span class="code">logger_disk_log_h</span></a></span> handler. The mechanism, used by both handlers, works
    as follows:</p>
    
    <h4><span onMouseOver="document.getElementById('ghlink-message-queue-length-idp70789089673104').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-message-queue-length-idp70789089673104').style.visibility = 'hidden';"><span id="ghlink-message-queue-length-idp70789089673104" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/logger_chapter.xml#L1115" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="message-queue-length" href="#message-queue-length">Message Queue Length</a></span></h4>
      
      <p>The handler process keeps track of the length of its message
      queue and reacts in different ways depending on the current status.
      The purpose is to keep the handler in, or (as quickly as possible),
      get the handler into, a state where it can keep up with the pace
      of incoming log requests. The memory usage of the handler must never
      keep growing larger and larger, since that would eventually cause the
      handler to crash. Three thresholds with associated actions have been
      defined:</p>
      
      <dl>
	<dt><strong><span class="code">toggle_sync_qlen</span></strong></dt>
	<dd>
	  <p>The default value of this level is <span class="code">10</span> messages,
	  and as long as the length of the message queue is lower, all log
	  requests are handled asynchronously. This simply means that the
	  process sending the log request (by calling a log function in the
	  Logger API) does not wait for a response from the handler but
	  continues executing immediately after the request (i.e. it will not
	  be affected by the time it takes the handler to print to the log
	  device). If the message queue grows larger than this value, however,
	  the handler starts handling the log requests synchronously instead,
	  meaning the process sending the request will have to wait for a
	  response. When the handler manages to reduce the message queue to a
	  level below the <span class="code">toggle_sync_qlen</span> threshold, asynchronous
	  operation is resumed. The switch from asynchronous to synchronous
	  mode will force the logging tempo of few busy senders to slow down,
	  but cannot protect the handler sufficiently in situations of many
	  concurrent senders.</p>
	</dd>
	<dt><strong><span class="code">drop_new_reqs_qlen</span></strong></dt>
	<dd>
	  <p>When the message queue has grown larger than this threshold, which
	  defaults to <span class="code">200</span> messages, the handler switches to a mode in
	  which it drops any new requests being made. Dropping a message in
	  this state means that the log function never actually sends a message
	  to the handler. The log call simply returns without an action. When
	  the length of the message queue has been reduced to a level below this
	  threshold, synchronous or asynchronous request handling mode is
	  resumed.</p>
	</dd>
	<dt><strong><span class="code">flush_reqs_qlen</span></strong></dt>
	<dd>
	  <p>Above this threshold, which defaults to <span class="code">1000</span> messages, a
	  flush operation takes place, in which all messages buffered in the
	  process mailbox get deleted without any logging actually taking
	  place. (Processes waiting for a response from a synchronous log request
	  will receive a reply indicating that the request has been dropped).</p>
	</dd>
      </dl>

      <p>For the overload protection algorithm to work properly, it is
      required that:</p>

      <p><span class="code">toggle_sync_qlen =&lt; drop_new_reqs_qlen =&lt; flush_reqs_qlen</span></p>

      <p>and that:</p>

      <p><span class="code">drop_new_reqs_qlen &gt; 1</span></p>

      <p>If <span class="code">toggle_sync_qlen</span> is set to <span class="code">0</span>, the handler will handle all
      requests synchronously. Setting the value of <span class="code">toggle_sync_qlen</span> to the same
      as <span class="code">drop_new_reqs_qlen</span>, disables the synchronous mode. Likewise, setting
      the value of <span class="code">drop_new_reqs_qlen</span> to the same as <span class="code">flush_reqs_qlen</span>,
      disables the drop mode.</p>

      <p>During high load scenarios, the length of the handler message queue
      rarely grows in a linear and predictable way. Instead, whenever the
      handler process gets scheduled in, it can have an almost arbitrary number
      of messages waiting in the mailbox. It's for this reason that the overload
      protection mechanism is focused on acting quickly and quite drastically
      (such as immediately dropping or flushing messages) as soon as a large
      queue length is detected. </p>

      <p>The thresholds listed above may be modified by the user if, e.g, a handler
      shouldn't drop or flush messages unless the message queue length grows
      extremely large. (The handler must be allowed to use large amounts of memory
      under such circumstances however). Another example of when the user might want
      to change the settings is if, for performance reasons, the logging processes must
      never get blocked by synchronous log requests, while dropping or flushing requests
      is perfectly acceptable (since it doesn't affect the performance of the
      loggers).</p>

      <p>A configuration example:</p>
      <div class="example"><pre>logger:add_handler(my_standard_h, logger_std_h,
                   #{config =&gt;
                         #{type =&gt; {file,"./system_info.log"},
                           toggle_sync_qlen =&gt; 100,
                           drop_new_reqs_qlen =&gt; 1000,
                           flush_reqs_qlen =&gt; 2000}}).</pre></div>
    

    <h4><span onMouseOver="document.getElementById('ghlink-controlling-bursts-of-log-requests-idp70789089762432').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-controlling-bursts-of-log-requests-idp70789089762432').style.visibility = 'hidden';"><span id="ghlink-controlling-bursts-of-log-requests-idp70789089762432" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/logger_chapter.xml#L1210" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="controlling-bursts-of-log-requests" href="#controlling-bursts-of-log-requests">Controlling Bursts of Log Requests</a></span></h4>
      
      <p>A potential problem with large bursts of log requests, is that log files
      may get full or wrapped too quickly (in the latter case overwriting
      previously logged data that could be of great importance). For this reason,
      both built-in handlers offer the possibility to set a maximum level of how
      many requests to process with a certain time frame. With this burst control
      feature enabled, the handler will take care of bursts of log requests
      without choking log files, or the terminal, with massive amounts of
      printouts. These are the configuration parameters:</p>
      
      <dl>
	<dt><strong><span class="code">enable_burst_limit</span></strong></dt>
	<dd>
	  <p>This is set to <span class="code">true</span> by default. The value <span class="code">false</span>
	  disables the burst control feature.</p>
	</dd>
	<dt><strong><span class="code">burst_limit_size</span></strong></dt>
	<dd>
	  <p>This is how many requests should be processed within the
	  <span class="code">burst_window_time</span> time frame. After this maximum has been
	  reached, successive requests will be dropped until the end of the
	  time frame. The default value is <span class="code">500</span> messages.</p>
	</dd>
	<dt><strong><span class="code">burst_window_time</span></strong></dt>
	<dd>
	  <p>The default window is <span class="code">1000</span> milliseconds long.</p>
	</dd>
      </dl>

      <p>A configuration example:</p>
      <div class="example"><pre>logger:add_handler(my_disk_log_h, logger_disk_log_h,
                   #{disk_log_opts =&gt;
                         #{file =&gt; "./my_disk_log"},
                     config =&gt;
                         #{burst_limit_size =&gt; 10,
                           burst_window_time =&gt; 500}}).</pre></div>
    

    <h4><span onMouseOver="document.getElementById('ghlink-terminating-a-large-handler-idp70789090181600').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-terminating-a-large-handler-idp70789090181600').style.visibility = 'hidden';"><span id="ghlink-terminating-a-large-handler-idp70789090181600" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/logger_chapter.xml#L1251" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="terminating-a-large-handler" href="#terminating-a-large-handler">Terminating a Large Handler</a></span></h4>
      
      <p>A handler process may grow large even if it can manage peaks of high load
      without crashing. The overload protection mechanism includes user configurable
      levels for a maximum allowed message queue length and maximum allowed memory
      usage. This feature is disabled by default, but can be switched on by means
      of the following configuration parameters:</p>
      
      <dl>
	<dt><strong><span class="code">enable_kill_overloaded</span></strong></dt>
	<dd>
	  <p>This is set to <span class="code">false</span> by default. The value <span class="code">true</span>
	  enables the feature.</p>
	</dd>
	<dt><strong><span class="code">handler_overloaded_qlen</span></strong></dt>
	<dd>
	  <p>This is the maximum allowed queue length. If the mailbox grows larger
	  than this, the handler process gets terminated.</p>
	</dd>
	<dt><strong><span class="code">handler_overloaded_mem</span></strong></dt>
	<dd>
	  <p>This is the maximum allowed memory usage of the handler process. If
	  the handler grows any larger, the process gets terminated.</p>
	</dd>
	<dt><strong><span class="code">handler_restart_after</span></strong></dt>
	<dd>
	  <p>If the handler gets terminated because of its queue length or
	  memory usage, it can get automatically restarted again after a
	  configurable delay time. The time is specified in milliseconds
	  and <span class="code">5000</span> is the default value. The value <span class="code">never</span> can
	  also be set, which prevents a restart.</p>
	</dd>
      </dl>
    
  

  <h3><span onMouseOver="document.getElementById('ghlink-see-also-idp70789090183424').style.visibility = 'visible';" onMouseOut="document.getElementById('ghlink-see-also-idp70789090183424').style.visibility = 'hidden';"><span id="ghlink-see-also-idp70789090183424" class="ghlink"><a href="https://github.com/erlang/otp/edit/maint/lib/kernel/doc/src/logger_chapter.xml#L1287" title="Found an issue with the documentation? Fix it by clicking here!"><span class="pencil"></span></a></span><a class="title_link" name="see-also" href="#see-also">2.12 
          See Also</a></span></h3>
    
    <p>
      <span class="bold_code bc-19"><a href="disk_log.html"><span class="code">disk_log(3)</span></a></span>,
      <span class="bold_code bc-19"><a href="error_logger.html"><span class="code">error_logger(3)</span></a></span>,
      <span class="bold_code bc-19"><a href="logger.html"><span class="code">logger(3)</span></a></span>,
      <span class="bold_code bc-19"><a href="logger_disk_log_h.html"><span class="code">logger_disk_log_h(3)</span></a></span>,
      <span class="bold_code bc-19"><a href="logger_filters.html"><span class="code">logger_filters(3)</span></a></span>,
      <span class="bold_code bc-19"><a href="logger_formatter.html"><span class="code">logger_formatter(3)</span></a></span>,
      <span class="bold_code bc-19"><a href="logger_std_h.html"><span class="code">logger_std_h(3)</span></a></span>,
        <span class="bold_code bc-18"><a href="javascript:erlhref('../../../../doc/../','sasl','sasl_app.html');"><span class="code">sasl(6)</span></a></span></p>
  
</div>
<div class="footer">
<hr>
<p>Copyright © 1997-2018 Ericsson AB. All Rights Reserved.</p>
</div>
</div>
</div>
<script type="text/javascript">window.__otpTopDocDir = '../../../../doc/js/';</script><script type="text/javascript" src="../../../../doc/js/highlight.js"></script>
</body>
</html>
